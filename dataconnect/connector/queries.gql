query GetUserById($id: UUID!) @auth(level: USER) {
  user(id: $id) {
    id
    email
    displayName
    role
    emailDomain
    firstName
    lastName
    year
    division
    createdAt
    updatedAt
  }
}

query GetUserByEmail($email: String!) @auth(level: PUBLIC) {
  users(where: { email: { eq: $email } }, limit: 1) {
    id
    email
    displayName
    role
    firstName
    lastName
  }
}

query ListUsers($limit: Int = 100) @auth(level: USER) {
  users(limit: $limit, orderBy: { createdAt: DESC }) {
    id
    email
    displayName
    role
    createdAt
  }
}

query ListCategories @auth(level: PUBLIC) {
  categories(orderBy: { name: ASC }) {
    id
    name
    description
    icon
    color
  }
}

query GetEventById($id: UUID!) @auth(level: PUBLIC) {
  event(id: $id) {
    id
    title
    description
    shortDescription
    date
    time
    endTime
    location
    venue
    imageUrl
    categoryId
    categoryName
    organizerId
    organizerName
    capacity
    registeredCount
    price
    isFree
    status
    featured
    requiresApproval
    tags
    createdAt
    updatedAt
  }
}

query ListEvents($limit: Int = 50) @auth(level: PUBLIC) {
  events(limit: $limit, orderBy: { date: ASC }) {
    id
    title
    shortDescription
    date
    time
    location
    imageUrl
    categoryName
    capacity
    registeredCount
    price
    isFree
    status
    featured
  }
}

query ListEventsByStatus($status: String!, $limit: Int = 50) @auth(level: PUBLIC) {
  events(where: { status: { eq: $status } }, limit: $limit, orderBy: { date: ASC }) {
    id
    title
    shortDescription
    date
    time
    location
    imageUrl
    categoryName
    capacity
    registeredCount
    price
    isFree
    featured
  }
}

query ListEventsByOrganizer($organizerId: String!, $limit: Int = 50) @auth(level: USER) {
  events(where: { organizerId: { eq: $organizerId } }, limit: $limit, orderBy: { createdAt: DESC }) {
    id
    title
    date
    time
    location
    status
    capacity
    registeredCount
  }
}

query GetBookingById($id: UUID!) @auth(level: USER) {
  booking(id: $id) {
    id
    eventId
    eventTitle
    userId
    userName
    userEmail
    status
    ticketId
    qrCode
    checkInTime
    numberOfTickets
    totalAmount
    paymentStatus
    createdAt
  }
}

query GetBookingByTicketId($ticketId: String!) @auth(level: USER) {
  bookings(where: { ticketId: { eq: $ticketId } }, limit: 1) {
    id
    eventId
    eventTitle
    userId
    userName
    userEmail
    status
    ticketId
    checkInTime
    numberOfTickets
  }
}

query ListUserBookings($userId: String!, $limit: Int = 50) @auth(level: USER) {
  bookings(where: { userId: { eq: $userId } }, limit: $limit, orderBy: { createdAt: DESC }) {
    id
    eventId
    eventTitle
    status
    ticketId
    numberOfTickets
    createdAt
  }
}

query ListEventBookings($eventId: String!, $limit: Int = 100) @auth(level: USER) {
  bookings(where: { eventId: { eq: $eventId } }, limit: $limit, orderBy: { createdAt: DESC }) {
    id
    userId
    userName
    userEmail
    status
    ticketId
    checkInTime
    numberOfTickets
  }
}

query ListEventReviews($eventId: String!, $limit: Int = 50) @auth(level: PUBLIC) {
  reviews(where: { eventId: { eq: $eventId } }, limit: $limit, orderBy: { createdAt: DESC }) {
    id
    userId
    userName
    rating
    comment
    createdAt
  }
}

query ListUserNotifications($userId: String!, $limit: Int = 50) @auth(level: USER) {
  notifications(where: { userId: { eq: $userId } }, limit: $limit, orderBy: { createdAt: DESC }) {
    id
    title
    message
    type
    read
    eventId
    createdAt
  }
}

query ListUserFavorites($userId: String!) @auth(level: USER) {
  favoriteEvents(where: { userId: { eq: $userId } }, orderBy: { createdAt: DESC }) {
    id
    eventId
    createdAt
  }
}

query ListEventCheckIns($eventId: String!, $limit: Int = 100) @auth(level: USER) {
  checkInLogs(where: { eventId: { eq: $eventId } }, limit: $limit, orderBy: { checkedInAt: DESC }) {
    id
    bookingId
    userId
    checkedInBy
    checkedInAt
    method
  }
}

query ListEventAnnouncements($eventId: String!) @auth(level: PUBLIC) {
  eventAnnouncements(where: { eventId: { eq: $eventId } }, orderBy: { createdAt: DESC }) {
    id
    title
    message
    createdBy
    createdAt
  }
}
